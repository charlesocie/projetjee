<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
    <title>Ajouter un Produit</title>
    <style type="text/css">
        .tg {
            border-collapse: collapse;
            border-spacing: 0;
            border-color: #ccc;
        }

        .tg td {
            font-family: Arial, sans-serif;
            font-size: 14px;
            padding: 10px 5px;
            border-style: solid;
            border-width: 1px;
            overflow: hidden;
            word-break: normal;
            border-color: #ccc;
            color: #333;
            background-color: #fff;
        }

        .tg th {
            font-family: Arial, sans-serif;
            font-size: 14px;
            font-weight: normal;
            padding: 10px 5px;
            border-style: solid;
            border-width: 1px;
            overflow: hidden;
            word-break: normal;
            border-color: #ccc;
            color: #333;
            background-color: #f0f0f0;
        }

        .tg .tg-4eph {
            background-color: #f9f9f9
        }
    </style>
</h:head>
<h:body>
    <h1>Nouveaux Produit</h1>
    <h:form>
        <table>
            <tr>
                <td><label>Nom</label></td>
                <td><h:inputText id="name" value="#{product.name}"></h:inputText>
                </td>
            </tr>
            <tr>
                <td><label>Prix</label></td>
                <td><h:inputText id="price" value="#{product.price}"></h:inputText>
                </td>
            </tr>
            <tr>
                <td colspan="2"><h:commandButton
                        action="#{productService.addProduct(product)}" value="Ajouter Produit"></h:commandButton>
                </td>
            </tr>

        </table>

    </h:form>

    <br/>
    <h3>Liste des Produits</h3>


    <c:if test="${!empty productService.listProducts()}">
        <table class="tg">
            <tr>
                <th width="80">ID Produit</th>
                <th width="120">Nom Produit</th>
                <th width="120">Prix Produit</th>
            </tr>
            <ui:repeat value="${productService.listProducts()}" var="product">
                <tr>
                    <td>${product.id}</td>
                    <td>${product.name}</td>
                    <td>${product.price}</td>
                    <h:form>
                    <td colspan="2"><h:commandButton
                            action="#{productService.deleteProduct(product)}" value="modifier/supprimer"></h:commandButton>
                    </td>
                    </h:form>
                </tr>
            </ui:repeat>
        </table>
    </c:if>
    <br></br>
<h:form>
    <tr>
        <td colspan="2"><h:commandButton
                action="#{productService.gotoLog()}" value="Page Gestion Login"></h:commandButton>
        </td>
    </tr>
    <tr>
        <td colspan="2"><h:commandButton
                action="#{productService.gotoWelcomePage()}" value="Deconnexion"></h:commandButton>
        </td>
    </tr>
</h:form>
</h:body>
</html>
